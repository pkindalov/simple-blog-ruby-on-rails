<div class="container mt-5">
  <div class="row">
    <div class="col-md-4">
      <div class="card">
        <div class="card-body text-center">
          <!-- Показване на аватара, ако има -->
          <% if @user.avatar.attached? %>
            <%= image_tag url_for(@user.avatar), class: 'card-img-top mb-3', style: 'max-height: 200px;' %>
          <% else %>
            <%= image_tag 'default_image.png', class: 'card-img-top mb-3', style: 'max-height: 200px;' %>
          <% end %>

          <h5 class="card-title">User profile</h5>
          <p class="card-text"><%= @user.email %></p>
          <!-- Други данни за профила -->
        </div>
        <div class="card-footer">
          <%= link_to 'Edit Profile', edit_user_registration_path, class: 'btn btn-primary btn-block mb-3' %>
          <!-- link_to 'View My Posts', user_posts_path(@user), class: 'btn btn-outline-secondary btn-block' %>-->
        </div>
      </div>
    </div>
    <div class="col-md-8">
      <!-- Секция с постовете на потребителя -->
      <h3 class="mt-4">My Posts</h3>
      <% if @posts.any? %>
        <% @posts.each do |post| %>
          <div class="card mt-3">
            <div class="card-body">
              <h5 class="card-title"><%= post.title %></h5>
              <p class="card-text"><%= post.description %></p>
              <!-- Показване на снимките, ако има -->
              <% if post.photo.attached? %>
                <%= image_tag post.photo, class: 'card-img-top mb-3', style: 'max-height: 200px;' %>
              <% end %>
              <!-- Други полета от поста -->
            </div>

            <% if post.user_id == current_user.id %>
              <div class="btn-group" role="group" aria-label="Post Actions">
                <%= link_to 'Редактирай', edit_post_path(post), class: 'btn btn-primary' %>
                <%= link_to 'Изтрий', post, method: :delete, data: { confirm: 'Сигурни ли сте?' }, class: 'btn btn-danger' %>
              </div>
            <% end %>

          </div>
        <% end %>

        <div class="text-center">
          <%= will_paginate @posts, renderer: BootstrapPagination::Rails %>
        </div>
      <% else %>
        <p>No posts found.</p>
      <% end %>
    </div>
  </div>
</div>
